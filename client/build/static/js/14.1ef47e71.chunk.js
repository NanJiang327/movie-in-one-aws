(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{452:function(e,n,a){"use strict";n.a={douban:{basicUrl:"https://api.douban.com/v2/movie/"},tmdb:{basicUrl:"https://api.themoviedb.org/3/movie/",castUrl:"https://api.themoviedb.org/3/person/",searchUrl:"https://api.themoviedb.org/3/search/movie",backdropUrl:"https://image.tmdb.org/t/p/w1400_and_h450_face",bgUrl:"https://image.tmdb.org/t/p/original/",apiKey:"bb3f5acf00144cfacd624c940807a5c4",genres_en:[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],genres_cn:[{id:28,name:"\u52a8\u4f5c"},{id:12,name:"\u5192\u9669"},{id:16,name:"\u52a8\u753b"},{id:35,name:"\u559c\u5267"},{id:80,name:"\u72af\u7f6a"},{id:99,name:"\u7eaa\u5f55"},{id:18,name:"\u5267\u60c5"},{id:10751,name:"\u5bb6\u5ead"},{id:14,name:"\u5947\u5e7b"},{id:36,name:"\u5386\u53f2"},{id:27,name:"\u6050\u6016"},{id:10402,name:"\u97f3\u4e50"},{id:9648,name:"\u60ac\u7591"},{id:10749,name:"\u7231\u60c5"},{id:878,name:"\u79d1\u5e7b"},{id:10770,name:"\u7535\u89c6\u7535\u5f71"},{id:53,name:"\u60ca\u609a"},{id:10752,name:"\u6218\u4e89"},{id:37,name:"\u897f\u90e8"}]},HtmlUtil:{htmlEncodeByRegExp:function(e){return 0===e.length?"":e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")},htmlDecodeByRegExp:function(e){return 0===e.length?"":e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&#39;/g,"'").replace(/&quot;/g,'"')}}}},486:function(e,n,a){"use strict";a.d(n,"a",function(){return l}),a.d(n,"g",function(){return d}),a.d(n,"b",function(){return m}),a.d(n,"f",function(){return p}),a.d(n,"d",function(){return g}),a.d(n,"e",function(){return f}),a.d(n,"c",function(){return h});var t=a(474),r=a.n(t),o=a(18),i=a(452),c=function(e){return{type:o.e,payload:{nowShowingArr:e}}},u=function(e){return{type:o.g,payload:{upcomingArr:e}}},s=function(e){return{type:o.l,redirectTo:e}},l=function(e){return{type:o.a,language:e}},d=function(e){return{type:o.c,err:e}};function m(e,n){return function(a,t){e!==t().type&&a({type:o.b,fetchingType:e}),a({type:o.f});var s=i.a.tmdb.basicUrl+e+"?api_key="+i.a.tmdb.apiKey+"&language="+n+"&page=1&region=AU",l="now_playing"===e;r.a.get(s).then(function(e){var n=e.data.results;return a(l?c(n):u(n))}).catch(function(e){return a({type:o.d,error:!0,payload:e})})}}function p(e){return function(n,a){var t=e.username,i=e.email,c=e.password,u=e.language;r.a.post("/user/register",{username:t,email:i,password:c,language:u}).then(function(a){200===a.status&&0===a.data.code?(n({type:o.k,payload:e}),n(s("/")),n(l(u)),n(d(""))):n(d(a.data.msg))}).catch(function(e){console.log(e)})}}function g(e){return function(n,a){var t=e.username,i=e.password;r.a.post("/user/login",{username:t,password:i}).then(function(e){200===e.status&&0===e.data.code?(n({type:o.i,payload:e.data.data}),n(s(a().redirectTo)),n(l(e.data.data.language)),n(d(""))):n(d(e.data.msg))}).catch(function(e){console.log(e)})}}function f(){return function(e,n){r.a.get("/user/logout").then(function(n){e({type:o.j})}).catch(function(e){console.log(e)})}}function h(){return function(e,n){r.a.get("/user/info").then(function(n){0===n.data.code&&e({type:o.h,payload:n.data.data})}).catch(function(e){console.log(e)})}}},662:function(e,n,a){"use strict";a.r(n);var t=a(53),r=a(54),o=a(56),i=a(55),c=a(57),u=a(1),s=a.n(u),l=a(130),d=a(127),m=a(597),p=a(595),g=a(596),f=a(449),h=a(491),y=a(52),b=a(486),v=function(e){function n(){var e,a;Object(t.a)(this,n);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(a=Object(o.a)(this,(e=Object(i.a)(n)).call.apply(e,[this].concat(c)))).state={},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,n){e?m.a.error("Please check your input.",2):a.props.login(n)})},a}return Object(c.a)(n,e),Object(r.a)(n,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return s.a.createElement("div",null,this.props.user.logged?s.a.createElement(y.a,{to:this.props.redirectTo}):null,s.a.createElement(p.a,{onSubmit:this.handleSubmit,className:"login-form"},s.a.createElement(p.a.Item,null,e("username",{rules:[{required:!0,message:"Please input your username!"},{min:5,max:10,message:"The length of username should between 5 and 10."},{pattern:new RegExp("^\\w+$","g"),message:"The usernmae can only contain number and characters."}]})(s.a.createElement(g.a,{prefix:s.a.createElement(f.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),s.a.createElement(p.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"},{min:5,message:"The length of password should greater than 5."}]})(s.a.createElement(g.a,{prefix:s.a.createElement(f.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),s.a.createElement(p.a.Item,null,s.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"),s.a.createElement("span",{className:"label"},"Or "),s.a.createElement(d.b,{to:"/register"},"register now!"))))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return""!==e.errorMsg?(m.a.error(e.errorMsg,2),e.setErrorMsg("")):null}}]),n}(u.Component),w=p.a.create({name:"normal_login"})(v);n.default=Object(l.b)(function(e){return{user:e.user,redirectTo:e.redirectTo,errorMsg:e.errorMsg}},function(e){return{login:function(n){return e(Object(b.d)(n))},setErrorMsg:function(n){return e(Object(b.g)(n))}}})(w)}}]);
//# sourceMappingURL=14.1ef47e71.chunk.js.map